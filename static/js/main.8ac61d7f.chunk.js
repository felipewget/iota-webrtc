(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{630:function(e,t,a){e.exports=a(826)},653:function(e,t,a){},687:function(e,t){},689:function(e,t){},826:function(e,t,a){"use strict";a.r(t);a(46),a(50),a(51),a(52),a(53),a(54),a(55),a(56),a(57),a(58),a(59),a(60),a(61),a(62),a(63),a(64),a(65),a(66),a(67),a(68),a(69),a(70),a(71),a(72),a(73),a(74),a(75),a(36),a(76),a(77),a(78),a(79),a(80),a(81),a(82),a(83),a(84),a(85),a(86),a(87),a(88),a(89),a(90),a(91),a(92),a(93),a(94),a(95),a(96),a(97),a(98),a(99),a(100),a(39),a(101),a(102),a(103),a(104),a(105),a(106),a(107),a(108),a(109),a(110),a(111),a(112),a(113),a(114),a(115),a(116),a(117),a(118),a(119),a(120),a(121),a(122),a(123),a(124),a(125),a(126),a(127),a(128),a(129),a(130),a(131),a(132),a(133),a(134),a(135),a(136),a(137),a(138),a(139),a(140),a(141),a(142),a(143),a(144),a(145),a(146),a(147),a(148),a(149),a(150),a(151),a(152),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(160),a(161),a(162),a(163),a(164),a(165),a(166),a(167),a(168),a(169),a(170),a(171),a(172),a(173),a(174),a(175),a(41),a(176),a(177),a(178),a(179),a(42),a(180),a(181),a(182),a(183),a(184),a(185),a(186),a(187),a(188),a(189),a(190),a(191),a(192),a(193),a(194),a(195),a(196),a(197),a(198),a(199),a(200),a(201),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(40),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(43);var n=a(381),r=a(3),o=a.n(r),c=a(26),i=a.n(c),s=(a(653),a(871)),l=(a(547),a(416)),u=a(593),m=a(367),d=a(11),b=a(867),g=a(868),f=a(869),p=a(870),v=a(454),O=a.n(v),j=a(616),E=a(828),h=a(336),y=a.n(h),w=a(368),S=a(414),I=a.n(S),k=a(594),C=a.n(k),x=a(497),T=a.n(x),N=a(595),L=a(494),G=/[^A-Z9]+/g,D=81,R=27,M=4,A=2e3,U={SPAM_NET:{URL:"https://nodes.spamnet.iota.org:443",MWM:7},DEV_NET1:{URL:"https://nodes.devnet.iota.org:443",MWM:9},DEV_NET2:{URL:"https://nodes.devnet.thetangle.org:443",MWM:9}},P="/",W="/signup",V="/login",q="/chatroom/:roomId",B="/chatgui",H="#33B3A6";function J(e){var t="";if(!(window&&window.crypto&&window.crypto.getRandomValues))return console.error("No native crypto random available");for(;t.length<e;)t+=C.a.encode(window.crypto.getRandomValues(new Uint32Array(e))).replace(G,"");return t.substring(0,e)}var Q=function(){return Math.floor((new Date).getTime()/1e3)},_=function(e,t){return I.a.SHA1(e+t).toString()},z=function(){var e=Object(w.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)){e.next=2;break}return e.abrupt("return",navigator.mediaDevices.getUserMedia(t));case 2:return e.abrupt("return",new Error("User Media Not Supported!"));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t,a=function(e){var t;try{t=JSON.parse(Object(N.extractJson)(e))}catch(a){console.log(a),console.log(e)}return t}(e);return JSON.parse((t=a,T.a.decompress(t,{inputEncoding:"Base64"})))},Y=function(e,t){var a=function(e){return T.a.compress(e,{outputEncoding:"Base64"})}(JSON.stringify(e)),n=Object(L.asciiToTrytes)(JSON.stringify(a));return[{address:J(D),tag:t,value:0,message:n}]},Z=a(0),K=a.n(Z),X=a(597),$=a.n(X),ee=a(596),te=a.n(ee),ae=a(862),ne=a(863),re=a(872),oe=function(e){var t=e.setShowPassword,a=e.password,n=e.setPassword,r=e.showPassword;return K.a.createElement(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:r?"text":"password",id:"password",value:a,onChange:function(e){return n(e.target.value)},InputProps:{endAdornment:K.a.createElement(ae.a,{position:"end"},K.a.createElement(ne.a,{edge:"end","aria-label":"toggle password visibility",onClick:function(){return t(function(e){return!e})}},r?K.a.createElement(te.a,null):K.a.createElement($.a,null)))}})},ce=function(e){var t=e.setValue,a=e.value,n=e.label;return K.a.createElement(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:n,type:"text",id:n.toLowerCase(),value:a,onChange:function(e){return t(e.target.value)}})},ie=a(613),se=a(7),le=a(598),ue=a.n(le),me=a(600),de=a.n(me),be=a(601),ge=a.n(be),fe=a(602),pe=a.n(fe),ve=a(864),Oe=a(865),je=a(874),Ee=a(866),he=a(599),ye=a.n(he),we={success:ue.a,warning:ye.a,error:de.a,info:ge.a},Se=Object(E.a)(function(e){return{success:{backgroundColor:ve.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Oe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}});function Ie(e){var t=Se(),a=e.className,n=e.message,r=e.onClose,o=e.variant,c=Object(ie.a)(e,["className","message","onClose","variant"]),i=we[o];return K.a.createElement(Ee.a,Object.assign({className:Object(se.a)(t[o],a),"aria-describedby":"client-snackbar",message:K.a.createElement("span",{id:"client-snackbar",className:t.message},K.a.createElement(i,{className:Object(se.a)(t.icon,t.iconVariant)}),n),action:[K.a.createElement(ne.a,{key:"close","aria-label":"close",color:"inherit",onClick:r},K.a.createElement(pe.a,{className:t.icon}))]},c))}var ke=Object(E.a)(function(e){return{margin:{margin:e.spacing(1)}}});function Ce(e){var t=e.variant,a=e.message,n=e.open,r=e.onClose,o=e.autoHideDuration;ke();return K.a.createElement("div",null,K.a.createElement(je.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:n,autoHideDuration:o,onClose:r},K.a.createElement(Ie,{onClose:function(e,t){"clickaway"!==t&&r()},variant:t,message:a})))}var xe={username:"",userHash:"",loggedIn:!1,seed:null,myId:null,tangleNet:U.DEV_NET1,iceServers:[{urls:"stun:global.stun.twilio.com:3478?transport=udp"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun.vodafone.ro:3478"},{urls:"stun:stun.xs4all.nl:3478"}],accountData:null,monitoringInterval:2e3},Te=K.a.createContext(),Ne=Object(E.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:H},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:H}}});function Le(e){var t,a=e.history,n=Object(r.useContext)(Te),c=Object(r.useGlobal)("seed"),i=Object(d.a)(c,2)[1],s=Object(r.useGlobal)("loggedIn"),l=Object(d.a)(s,2)[1],u=Object(r.useGlobal)("username"),m=Object(d.a)(u,2)[1],v=Object(r.useGlobal)("myId"),E=Object(d.a)(v,2)[1],h=Object(r.useState)("info"),y=Object(d.a)(h,2),w=y[0],S=y[1],I=Object(r.useState)("Info"),k=Object(d.a)(I,2),C=k[0],x=k[1],T=Object(r.useState)(!1),N=Object(d.a)(T,2),L=N[0],G=N[1];var D=Object(r.useState)(""),R=Object(d.a)(D,2),M=R[0],A=R[1],U=Object(r.useState)(""),P=Object(d.a)(U,2),W=P[0],V=P[1],q=Object(r.useState)(""),B=Object(d.a)(q,2),H=B[0],J=B[1],Q=Object(r.useState)(!1),z=Object(d.a)(Q,2),F=z[0],Y=z[1],Z=Object(r.useState)(!1),K=Object(d.a)(Z,2),X=K[0],$=K[1];n&&(t=function(){var e,t=n.getCollection("users"),a=null,o="";if(X?a=t.findOne({seed:M}):(o=_(H,W),a=t.findOne({userHash:o})),!a)return e="error",x("User not found"),S(e),void G(!0);var c=JSON.stringify(a);return localStorage.setItem("userData",c),i(a.seed),E(a.myId),m(a.username),l(!0),console.log(Object(r.getGlobal)())});var ee=Ne();return o.a.createElement(b.a,{component:"main",maxWidth:"sm"},o.a.createElement("div",{className:ee.paper},o.a.createElement(g.a,{className:ee.avatar},o.a.createElement(O.a,null)),o.a.createElement(j.a,{component:"h1",variant:"h5"},"Login with ".concat(X?"seed":"username/password")),o.a.createElement("form",{className:ee.form},X?o.a.createElement(ce,{label:"Seed",value:M,setValue:A}):o.a.createElement(o.a.Fragment,null,o.a.createElement(ce,{label:"Username",value:H,setValue:J}),o.a.createElement(oe,{setShowPassword:Y,password:W,setPassword:V,showPassword:F})),o.a.createElement(f.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:ee.submit,onClick:t},"Login"),o.a.createElement(p.a,{container:!0},o.a.createElement(p.a,{item:!0,xs:!0},o.a.createElement(f.a,{type:"button",onClick:function(){$(function(e){return!e})}},X?"Login with name/password":"Login with seed")),o.a.createElement(p.a,{item:!0},o.a.createElement(f.a,{type:"button",onClick:function(){a.push("/signup")}},"Create an account"))))),o.a.createElement(Ce,{variant:w,message:C,open:L,onClose:function(){return G(!1)},autoHideDuration:2e3}))}var Ge=a(500),De=a(603),Re=a(604),Me=a(614),Ae=a(605),Ue=a(418),Pe=a(615),We=a(415),Ve=a.n(We),qe=a(606),Be=a.n(qe),He=a(455),Je=a.n(He),Qe=a(607),_e=a(32),ze=function(e){function t(e){var a,r=e.seed,o=e.username,c=(e.myId,e.roomId),i=e.minWeight,s=e.iceServers,l=e.interval,u=e.provider;return Object(De.a)(this,t),(a=Object(Me.a)(this,Object(Ae.a)(t).call(this))).peerList={},a.monitorInterval=null,a.oldTransactions={},a.requestList={},a.startMonitoring=Object(w.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={video:!0,audio:!0},e.next=3,z(t);case 3:a.stream=e.sent,clearInterval(a.monitorInterval),a.currentTimestamp=Q();try{a.broadcastRequest(),a.monitorInterval=setInterval(a.monitorRequest,a.interval)}catch(n){clearInterval(a.monitorInterval),console.error(n)}case 7:case"end":return e.stop()}},e)})),a.broadcastRequest=Object(w.a)(y.a.mark(function e(){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={id:a.myId,username:a.myUsername,type:t.Type.REQUEST},a.broadcastTransaction(n);case 2:case"end":return e.stop()}},e)})),a.broadcastTransaction=function(e){var t=Y(e,a.roomId);a.iota.prepareTransfers(a.seed,t).then(function(){var e=Object(w.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.iota.sendTrytes(t,M,a.minWeight);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},a.monitorRequest=Object(w.a)(y.a.mark(function e(){var t,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getNewTransactions();case 3:t=e.sent,n=a.getBundles(t),r=a.getSignals(n),console.log("New signals from Tangle:"),console.log(r),a.processSignals(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])})),a.getNewTransactions=Object(w.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={tags:[a.roomId]},e.next=3,a.iota.findTransactionObjects(t);case 3:return n=e.sent,e.abrupt("return",n.filter(function(e){var t=e.timestamp,n=e.bundle;return t>a.currentTimestamp&&!a.oldTransactions[n]}));case 5:case"end":return e.stop()}},e)})),a.getBundles=function(e){var t={},n=[],r=!0,o=!1,c=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value,u=l.bundle;a.oldTransactions[u]=!0,t[u]||(t[u]=[]),t[u].push(l)}}catch(d){o=!0,c=d}finally{try{r||null==s.return||s.return()}finally{if(o)throw c}}for(var m in t)n.push(t[m]);return n.map(function(e){return e.sort(function(e,t){return e.currentIndex>t.currentIndex?1:-1})})},a.getSignals=function(e){return e.map(function(e){return F(e,a.roomId)}).filter(function(e){var n=e.type,r=e.id;return!(n===t.Type.REQUEST&&r===a.myId)})},a.startOffering=function(e){for(var t in a.requestList[e.id]=e,a.requestList)if(!a.peerList[t]){var n=a.requestList[t].username,r=Object(Ue.a)(a),o=r.stream,c=r.config,i=a.createPeer({initiator:!0,stream:o,id:t,config:c});a.attachEventHandlers(i,t,n)}},a.startAnswering=function(e,t,n,r){if(e===a.myId){if(!a.peerList[t]){console.log("started connector");var o=Object(Ue.a)(a),c=o.config,i=o.stream,s=a.createPeer({initiator:!1,stream:i,id:t,config:c});a.attachEventHandlers(s,t,n)}var l=!0,u=!1,m=void 0;try{for(var d,b=r[Symbol.iterator]();!(l=(d=b.next()).done);l=!0){var g=d.value;a.peerList[t].signal(g)}}catch(f){u=!0,m=f}finally{try{l||null==b.return||b.return()}finally{if(u)throw m}}}},a.processSignals=function(e){var n=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var s=c.value,l=s.type,u=s.id,m=s.peerId,d=s.username,b=s.data;switch(l){case t.Type.REQUEST:a.startOffering(s);break;case t.Type.WEBRTCSIGNAL:a.startAnswering(u,m,d,b);break;default:console.log("Unknown signal type")}}}catch(g){r=!0,o=g}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}},a.createPeer=function(e){var t=e.initiator,n=e.stream,r=e.id,o=e.config,c=new Be.a({initiator:t,stream:n,config:o,trickle:!0});return a.peerList[r]=c},a.attachEventHandlers=function(e,r,o){var c=Object(Qe.debounce)(function(e){var t=e.signalData,n=e.signalQueue;a.broadcastTransaction(t),n.length=0},1e3),i={id:r,username:o},s=[];e.on("signal",function(e){s.push(e);var l={id:r,username:o,type:t.Type.WEBRTCSIGNAL,peerId:a.myId,data:[].concat(s)};c({signalData:l,signalQueue:s}),a.emit("signal",Object(n.a)({},i,{signalQueue:s}))}),e.on("data",function(e){a.emit("data",Object(n.a)({},i,{data:e.toString()}))}),e.on("stream",function(e){a.emit("stream",Object(n.a)({},i,{stream:e}))}),e.on("track",function(e,t){a.emit("track",Object(n.a)({},i,{track:e,stream:t}))}),e.on("connect",function(){a.emit("connect",i)}),e.on("close",function(){a.emit("close",i),e.destroy(),delete a.peerList[r],delete a.requestList[r]}),e.on("error",function(e){console.log(e)})},a.stopMonitoring=function(){clearInterval(a.monitorInterval)},a.seed=r,a.myUsername=o,a.myId=Je()(),a.roomId=c,a.minWeight=i,a.interval=l,a.config={iceServers:s},a.iota=Object(_e.composeAPI)({provider:u}),a}return Object(Pe.a)(t,e),Object(Re.a)(t,[{key:"broadcastMessage",value:function(e){for(var t=0,a=Object.keys(this.peerList);t<a.length;t++){var n=a[t];this.peerList[n].connected&&this.peerList[n].send(e)}}},{key:"endMonitoring",value:function(){clearInterval(this.monitorInterval);for(var e=0,t=Object.keys(this.peerList);e<t.length;e++){var a=t[e];this.peerList[a].destroy()}this.peerList={},this.requestList={}}}]),t}(Ve.a);function Fe(e){var t=e.match.params.roomId;console.log("Chatroom called");var a=Object(r.useGlobal)("username"),n=Object(d.a)(a,1)[0],c=Object(r.useGlobal)("myId"),i=Object(d.a)(c,1)[0],s=Object(r.useGlobal)("tangleNet"),l=Object(d.a)(s,1)[0],u=Object(r.useGlobal)("iceServers"),m=Object(d.a)(u,1)[0],b=Object(r.useGlobal)("seed"),g=Object(d.a)(b,1)[0],f=Object(r.useState)([]),p=Object(d.a)(f,2),v=(p[0],p[1]),O=Object(r.useState)([]),j=Object(d.a)(O,2),E=j[0],h=j[1],y=Object(r.useState)(0),w=Object(d.a)(y,2),S=w[0],I=w[1],k=Object(r.useState)(null),C=Object(d.a)(k,2),x=C[0],T=C[1],N={},L={username:n,seed:g,myId:i,roomId:t,minWeight:l.MWM,iceServers:m,interval:A,provider:l.URL};return Object(r.useEffect)(function(){var e=new ze(L);return T(e),e.startMonitoring(),e.on("connect",function(e){v(function(t){return[].concat(Object(Ge.a)(t),[e])}),I(function(e){return e+1})}),e.on("stream",function(e){h(function(t){return[].concat(Object(Ge.a)(t),[e])})}),e.on("close",function(e){h(function(t){return t.filter(function(t){return t.id!==e.id})}),I(function(e){return e-1})}),function(){return console.log("unmounted")}},[]),o.a.createElement("div",null,o.a.createElement("div",null,"Room ID: ".concat(t)),o.a.createElement("button",{type:"button",onClick:function(){return x.broadcastMessage(" A NEW MESSAGE")}},"Send a message"),o.a.createElement("button",{type:"button",onClick:function(){return x.stopMonitoring()}},"Stop monitoring"),o.a.createElement("button",{type:"button",onClick:function(){return x.endMonitoring()}},"End Peer connection"),o.a.createElement("button",{type:"button",onClick:function(){return x.startMonitoring()}},"Start Monitoring"),o.a.createElement("div",null,S),E.map(function(e){return o.a.createElement("div",{key:e.id},o.a.createElement("div",null),o.a.createElement("video",{autoPlay:!0,style:{width:"250px",height:"250px"},ref:function(t){return function(e,t,a){if(e)try{N[t]=e,e.srcObject=a}catch(n){console.log("error")}}(t,e.id,e.stream)}},o.a.createElement("track",{kind:"captions",srcLang:"en",label:e.username})))}))}ze.Type={WEBRTCSIGNAL:"WEBRTCSIGNAL",REQUEST:"REQUEST"},window.genTryte=J;var Ye=a(456),Ze=Object(E.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(4),marginBottom:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:H},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:H},seedGen:{margin:e.spacing(2,0,0)}}});function Ke(e){var t=e.history,a=Object(r.useContext)(Te),n=Object(r.useState)(""),c=Object(d.a)(n,2),i=c[0],s=c[1],l=Object(r.useState)(""),u=Object(d.a)(l,2),m=u[0],v=u[1],E=Object(r.useState)(""),h=Object(d.a)(E,2),y=h[0],w=h[1],S=Object(r.useState)(!1),I=Object(d.a)(S,2),k=I[0],C=I[1],x=Object(r.useState)("info"),T=Object(d.a)(x,2),N=T[0],L=T[1],G=Object(r.useState)("Info"),R=Object(d.a)(G,2),M=R[0],A=R[1],U=Object(r.useState)(!1),P=Object(d.a)(U,2),W=P[0],V=P[1];function q(e,t){A(e),L(t),V(!0)}var B=Ze();return o.a.createElement(b.a,{component:"main",maxWidth:"sm"},o.a.createElement("div",{className:B.paper},o.a.createElement(g.a,{className:B.avatar},o.a.createElement(O.a,null)),o.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign up"),o.a.createElement("form",{className:B.form,noValidate:!0},o.a.createElement(ce,{label:"Username",value:i,setValue:s}),o.a.createElement(oe,{setShowPassword:C,password:m,setPassword:v,showPassword:k}),o.a.createElement(f.a,{type:"button",variant:"contained",color:"secondary",className:B.seedGen,onClick:function(){w(J(D))}},"Generate Seed"),o.a.createElement(ce,{label:"Seed",value:y,setValue:w}),o.a.createElement(f.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:B.submit,onClick:function(){var e=a.getCollection("users"),n=e.findOne({username:i}),r=e.findOne({seed:y});if(!i||!y||!m)return q("Please enter all required field","error");if(n)return q("Username existed","error");if(r)return q("Account for seed existed","error");if(!Object(Ye.isTrytes)(y,D))return q("Invalid Seed","error");var o=_(i,m),c=Je()();e.insert({username:i,userHash:o,seed:y,myId:c}),q("Account created","success"),t.push("/login")}},"Sign Up"),o.a.createElement(p.a,{container:!0,justify:"flex-end"},o.a.createElement(p.a,{item:!0},o.a.createElement(f.a,{onClick:function(){t.push("/login")}},"Already have an account? Log in"))))),o.a.createElement(Ce,{variant:N,message:M,open:W,onClose:function(){return V(!1)},autoHideDuration:2e3}))}function Xe(e){var t=e.history,a=Object(r.useGlobal)("seed"),n=Object(d.a)(a,1)[0],c=Object(r.useGlobal)("accountData"),i=Object(d.a)(c,2),s=i[0],l=i[1],u=Object(r.useGlobal)("loggedIn"),m=Object(d.a)(u,2)[1],b=Object(r.useState)(""),g=Object(d.a)(b,2),f=g[0],p=g[1];return Object(r.useEffect)(function(){Object(_e.composeAPI)({provider:U.DEV_NET1.URL}).getAccountData(n).then(function(e){console.log(e),l(e)})},[]),o.a.createElement("div",null,o.a.createElement("div",null,"Your seed: ".concat(n)),o.a.createElement("div",null,"Your account data: ".concat(s)),o.a.createElement("button",{type:"button",onClick:function(){var e=J(R);t.push("chatroom/".concat(e))}},"Create chatroom"),o.a.createElement("button",{type:"button",onClick:function(){Object(Ye.isTrytes)(f,R)&&t.push("chatroom/".concat(f))}},"Join chatroom"),o.a.createElement("input",{type:"text",onChange:function(e){return p(e.target.value)},value:f}),o.a.createElement("button",{type:"button",onClick:function(){localStorage.removeItem("userData"),m(!1),Object(r.setGlobal)(xe),console.log(Object(r.getGlobal)())}},"Logout"))}var $e=a(608),et={backgroundColor:"#607D8B",borderRadius:"12%",height:"250px",width:"250px",boxShadow:"2px 2px 10px 0px rgba(0,0,0,0.59)"},tt=function(){return K.a.createElement($e.TrinityRingsSpinner,{color:"#33B3A6",size:125,style:et})},at=function(e){return Object(m.g)(function(t){var a=Object(r.useGlobal)("loggedIn");return Object(d.a)(a,1)[0]?o.a.createElement(m.a,{to:P}):o.a.createElement(e,t)})},nt=function(e){return Object(m.g)(function(t){var a=Object(r.useGlobal)("loggedIn");return Object(d.a)(a,1)[0]?o.a.createElement(e,t):o.a.createElement(m.a,{to:V})})},rt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.Helmet,null,o.a.createElement("title",null,"IOTA - WebRTC"),o.a.createElement("meta",{name:"description",content:"A decentralized chat and video call application"}),o.a.createElement("meta",{charSet:"utf-8"})),o.a.createElement(m.d,null,o.a.createElement(m.b,{exact:!0,path:P,component:nt(Xe)}),o.a.createElement(m.b,{exact:!0,path:V,component:at(Le)}),o.a.createElement(m.b,{exact:!0,path:W,component:at(Ke)}),o.a.createElement(m.b,{exact:!0,path:q,component:nt(Fe)}),o.a.createElement(m.b,{exact:!0,path:B,component:tt}),o.a.createElement(m.a,{to:P})))},ot=a(612),ct=a.n(ot),it=a(496),st=a.n(it),lt=localStorage.getItem("userData");if(lt)try{var ut=JSON.parse(lt);Object(r.setGlobal)(Object(n.a)({},xe,ut,{loggedIn:!0})),console.log(Object(r.getGlobal)())}catch(gt){localStorage.removeItem("userData"),Object(r.setGlobal)(xe)}else Object(r.setGlobal)(xe);var mt=new st.a,dt=new ct.a("test.db",{adapter:mt,autoload:!0,autosave:!0,autosaveInterval:4e3,autoloadCallback:function(){console.log("Database loaded"),dt.getCollection("users")||dt.addCollection("users")}}),bt=document.getElementById("root");console.log("render called"),i.a.render(o.a.createElement(l.a,null,o.a.createElement(s.a,null),o.a.createElement(Te.Provider,{value:dt},o.a.createElement(rt,null))),bt)}},[[630,1,2]]]);
//# sourceMappingURL=main.8ac61d7f.chunk.js.map